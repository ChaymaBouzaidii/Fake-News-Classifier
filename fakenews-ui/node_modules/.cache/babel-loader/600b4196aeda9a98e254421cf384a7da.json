{"ast":null,"code":"var _jsxFileName = \"/home/chayma/Desktop/FakeNews/webapp/fakenews-ui/src/components/js/interface.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport './../css/interface.scss';\nexport class Interface extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.MIN_WORDS = 25;\n    this.MAX_WORDS = 3500;\n    this.state = {\n      text: '',\n      wordsHint: `You have to write at least ${this.MIN_WORDS} words`,\n      loading: false,\n      error: false,\n      prediction: null\n    };\n\n    this.random = () => axios.get(\"http://ffa71c93.ngrok.io/random\").then(res => {\n      const data = res.data;\n      this.setState({\n        text: data.text,\n        wordsHint: this.getWordsHint(data.text),\n        prediction: null\n      });\n    }).catch(error => this.setState({\n      loading: false,\n      error: true\n    }));\n\n    this.updateInput = ({\n      target: {\n        value\n      }\n    }) => this.setState({\n      text: value,\n      prediction: null,\n      wordsHint: this.getWordsHint(value)\n    });\n\n    this.getWordsHint = text => {\n      let count = text.split(/\\s/).length;\n      if (count < this.MIN_WORDS) return `You have to write ${this.MIN_WORDS - count} more words`;\n      if (count >= this.MIN_WORDS) return `You can write up to ${this.MAX_WORDS - count} more words`;\n    };\n\n    this.predict = () => {\n      if (this.MAX_WORDS - this.state.text.split(/\\s/).length < 0) return;\n      this.setState({\n        loading: true,\n        prediction: null\n      });\n      axios({\n        method: 'POST',\n        url: 'http://ffa71c93.ngrok.io/predict',\n        data: {\n          article: this.state.text\n        }\n      }).then(res => {\n        console.log(res);\n        let pred;\n\n        if (res.data.prediction === 'FAKE') {\n          pred = '⛔ FAKE News ⛔';\n        } else if (res.data.prediction === 'REAL') {\n          pred = 'REAL News';\n        }\n\n        this.setState({\n          prediction: pred,\n          loading: false\n        });\n      }).catch(error => this.setState({\n        loading: false,\n        error: true\n      }));\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Fake News Classifier\"), React.createElement(\"textarea\", {\n      placeholder: \"News to classify?\",\n      disabled: this.state.loading,\n      value: this.state.text,\n      onChange: this.updateInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"hint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \" \", this.state.wordsHint), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      disabled: this.state.loading,\n      className: \"random\",\n      onClick: this.random,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Load random News from test dataset ? \"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Click here\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"button-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      disabled: this.state.loading || this.MIN_WORDS - this.state.text.split(/\\s/).length > 0 || this.MAX_WORDS - this.state.text.split(/\\s/).length < 0,\n      className: \"cta\",\n      onClick: this.predict,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \" Predict \")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), this.state.loading ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Classifying ...\"), \" \", React.createElement(\"div\", {\n      className: \"loader loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })) : '', \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), this.state.error ? React.createElement(\"h1\", {\n      className: \"loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"ERROR\") : '', \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      className: this.state.prediction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.state.prediction));\n  }\n\n}","map":{"version":3,"sources":["/home/chayma/Desktop/FakeNews/webapp/fakenews-ui/src/components/js/interface.js"],"names":["React","axios","Interface","Component","MIN_WORDS","MAX_WORDS","state","text","wordsHint","loading","error","prediction","random","get","then","res","data","setState","getWordsHint","catch","updateInput","target","value","count","split","length","predict","method","url","article","console","log","pred","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './../css/interface.scss';\nexport class Interface extends React.Component {\n\n  MIN_WORDS = 25;\n  MAX_WORDS = 3500;\n\n  state = {\n    text: '',\n    wordsHint: `You have to write at least ${this.MIN_WORDS} words`,\n    loading: false,\n    error: false,\n    prediction: null,\n  }\n\n  random = () => axios.get(\"http://ffa71c93.ngrok.io/random\")\n    .then(res => {\n        const data = res.data;\n        this.setState({\n            text: data.text, \n            wordsHint: this.getWordsHint(data.text), \n            prediction: null,\n    })\n})\n.catch(error => this.setState({ loading: false, error: true }))\n\n  updateInput = ({ target: { value } }) => this.setState({ text: value, prediction: null, wordsHint: this.getWordsHint(value) });\n\n  getWordsHint = (text) => {\n    let count = text.split(/\\s/).length;\n    if (count < this.MIN_WORDS) return `You have to write ${this.MIN_WORDS - count} more words`\n    if (count >= this.MIN_WORDS) return `You can write up to ${this.MAX_WORDS - count} more words`\n  }\n  predict = () => {\n    if (this.MAX_WORDS - this.state.text.split(/\\s/).length < 0) return;\n\n    this.setState({ loading: true, prediction: null });\n    axios({\n      method: 'POST',\n      url: 'http://ffa71c93.ngrok.io/predict',\n      data:\n      {\n        article : this.state.text\n      }\n    })\n    .then (res => {\n        console.log(res)\n        let pred;\n        if (res.data.prediction === 'FAKE'){\n          pred = '⛔ FAKE News ⛔';\n        } else if (res.data.prediction === 'REAL'){\n          pred = 'REAL News';\n        }\n        this.setState({prediction: pred, loading: false})\n    })\n    .catch(error => this.setState({ loading: false, error: true }))\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h1>Fake News Classifier</h1>\n        <textarea placeholder= 'News to classify?' disabled={this.state.loading} value={this.state.text} onChange={this.updateInput}>\n        </textarea><br/>\n\n        <span className=\"hint\"> {this.state.wordsHint}</span><br/>\n\n        <button disabled={this.state.loading} className=\"random\" onClick={this.random}>\n          <p>Load random News from test dataset ? </p><span>Click here</span>\n        </button><br/>\n        <div className=\"button-container\">\n        <button disabled={\n          this.state.loading ||\n          this.MIN_WORDS - this.state.text.split(/\\s/).length > 0 ||\n          this.MAX_WORDS - this.state.text.split(/\\s/).length < 0} className=\"cta\" onClick={this.predict}> Predict </button></div><br/>\n        \n        {this.state.loading ? <div><h1 className=\"loading\">Classifying ...</h1> <div className=\"loader loading\"></div></div> : ''} <br/>\n\n        {this.state.error ? <h1 className=\"loading\">ERROR</h1> : ''} <br/>\n\n        <h1 className={this.state.prediction}>\n          {this.state.prediction}\n        </h1>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}